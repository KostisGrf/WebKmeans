<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles/apidocs.css">
    <link rel="icon" type="image/x-icon" href="./assets/favicon_io/favicon.ico">
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>   
    <script src="js/apidocs.js"></script>
    <title>API Docs</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-white sticky-top shadow-sm">
        <div class="container-fluid">
            
                <a class="navbar-brand ms-2  fs-3" href="./">
                    <img src="assets/logo4.png" width="50px" alt="">Web k-means</a>
            
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="./">Home</a>
              </li>
              <li class="nav-item">
<<<<<<< HEAD
                <a class="nav-link" href="./about.html">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href="./kmeans.html">K-means</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://forms.gle/uhxLjWqrAiQ9qNm38" id="sign-up-btn" target="_blank">Rate us!</a>
              </li>
=======
                <a class="nav-link " href="./kmeans.html">K-means</a>
              </li>
>>>>>>> 549c676594f3b31b1fbceaece92a9e19c635fc8f
              
              <li class="nav-item dropdown" id="gear-dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fa-solid fa-gear"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><p class="dropdown-item" id="user-name"></p></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="./edit-profile.html">Profile</a></li>
<<<<<<< HEAD
                  <li><a class="dropdown-item" href="#">API docs</a></li>
=======
                  <li><a class="dropdown-item" href="./apidocs.html">Api docs</a></li>
>>>>>>> 549c676594f3b31b1fbceaece92a9e19c635fc8f
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#" id="sign-out-btn">Sign out</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <div class="container d-flex justify-content-center">
         <div class="page-title mt-5">
          <div class="d-flex justify-content-center">
          <div class="card mb-5 api-key-card  bg-light">
            <div class="card-body">
              Your API key
              <div class="apikey-input"><div class="input-group mb-3">
                <input type="text" class="form-control" id="apikey-input" aria-label="Recipient's username" aria-describedby="basic-addon2" disabled>
                <button class="btn btn-primary" type="button" id="copy-apikey" title="Copy to clipboard">Copy &nbsp;<i class="fa-solid fa-copy"></i></button>
              </div></div>
              <button class="btn btn-primary" id="regenerate-key">Regenerate key</button>
            </div>
          </div>
        </div>
        <h2 class="text-center">API Documentation</h2>
        
        <div class="accordion docs-boxes" id="accordionFlushExample">
          <div class="accordion-item btn-get">
            <h2 class="accordion-header" id="flush-headingOne">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                <span class="box">GET</span>&nbsp;server/api/get-datasets.php?apikey={apikey}
              </button>
            </h2>
            <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne">
              <div class="accordion-body"><h4>Retrieves all datasets personal and public</h4> Example response
                <div class="card bg-light">
                <div class="card-body">
                  <pre>
                    {
                      "personal_datasets": [
                          "datatab.xlsx",
                          "file_example_XLSX_100.xlsx",
                          "file_example_XLS_50.xls",
                          "fuel_prices_52.csv",
                          "iris.csv",
                          "test.xlsx"
                      ],
                      "public_datasets": [
                          "iris.csv"
                      ]
                  }
                </pre>
                </div>
              </div></div>
            </div>
          </div>
          <div class="accordion-item btn-get">
            <h2 class="accordion-header" id="flush-headingTwo">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseOne">
                <span class="box">GET</span>&nbsp;server/api/read-dataset.php?apikey={apikey}&dataset={dataset}&dataset-type=type
              </button>
            </h2>
            <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo">
              <div class="accordion-body"><h3>Returns the content of the dataset and the numerical columns that can be used for the k-means</h3>
                Example response
                <div class="card bg-light">
                <div class="card-body">
                  <pre>
                  {
                    "items": [
                        {
                            "Gender": "Male",
                            "Age": 48,
                            "Salary": 1000
                        },
                        {
                            "Gender": "Male",
                            "Age": 33,
                            "Salary": 1500
                        },
                        {
                            "Gender": "Female",
                            "Age": 29,
                            "Salary": 2000
                        },
                        {
                            "Gender": "Male",
                            "Age": 52,
                            "Salary": 3500
                        },
                        {
                            "Gender": "Female",
                            "Age": 41,
                            "Salary": 2200
                        },
                        {
                            "Gender": "Female",
                            "Age": 39,
                            "Salary": 1800
                        }
                    ],
                    "numerical_columns": [
                        "Age",
                        "Salary"
                    ]
                }
              </pre>
                </div>
              </div></div>
            </div>
          </div>
          <div class="accordion-item btn-post">
            <h2 class="accordion-header" id="flush-headingThree">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseOne">
                <span class="box">POST</span>&nbsp;server/api/elbow.php
              </button>
            </h2>
            <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree">
              <div class="accordion-body">
                <h3>Returns the SSEs for the given clusters and a suggested k</h3>
                Request body example
                <div class="card mb-3">
                  <div class="card-body bg-light">
                    <pre>
                      {
                      "dataset":"sample.csv",
                      "dataset-type":"personal",
                      "clusters":"5",
                      "columns":["Age","Salary"],
                      "apikey":"0a8366a07c0d8fccc48bab2e657f12d0"               
                   }</pre>
                  </div>
                </div>
                Response Example
                <div class="card bg-light">
                  <div class="card-body">
                    <pre>
                      {
                      "sse": [
                          "1.2898762444864522",
                          "0.5491175803402647",
                          "0.23902558286074355",
                          "0.05170359168241964",
                          "0.016580718336483915"
                      ],
                      "suggested-k": "2"
                  }</pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="accordion-item btn-post">
            <h2 class="accordion-header" id="flush-headingFour">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                <span class="box">POST</span>&nbsp;server/api/clusters.php
              </button>
            </h2>
            <div id="flush-collapseFour" class="accordion-collapse collapse" aria-labelledby="flush-headingFour">
              <div class="accordion-body">
                <h3>Returns the cluster assignment for a given dataset</h3>
                Request body example
                <div class="card mb-3">
                  <div class="card-body bg-light">
                    <pre>
                      {
                      "dataset":"sample.csv",
                      "dataset-type":"personal",
                      "clusters":"5",
                      "columns":["Age","Salary"],
                      "apikey":"0a8366a07c0d8fccc48bab2e657f12d0"               
                   }</pre>
                  </div>
                </div>
                Response Example
                <div class="card bg-light">
                  <div class="card-body text-start">
                    <pre>
                      {
                        "items": [
                            {
                                "Age": "48",
                                "Salary": "1000",
                                "cluster": "3"
                            },
                            {
                                "Age": "33",
                                "Salary": "1500",
                                "cluster": "4"
                            },
                            {
                                "Age": "29",
                                "Salary": "2000",
                                "cluster": "5"
                            },
                            {
                                "Age": "52",
                                "Salary": "3500",
                                "cluster": "2"
                            },
                            {
                                "Age": "41",
                                "Salary": "2200",
                                "cluster": "1"
                            },
                            {
                                "Age": "39",
                                "Salary": "1800",
                                "cluster": "1"
                            }
                        ]
                    }</pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="accordion-item btn-post">
            <h2 class="accordion-header" id="flush-headingFive">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFive" aria-expanded="false" aria-controls="flush-collapseFive">
                <span class="box">POST</span>&nbsp;server/api/upload-dataset.php
              </button>
            </h2>
            <div id="flush-collapseFive" class="accordion-collapse collapse" aria-labelledby="flush-headingFive">
              <div class="accordion-body">
                <h3>Uploads a file</h3>
                <p>valid files are {csv,xls,xlsx}</p>
                <p>content type must be form-data</p>
                Request example
                <div class="card mb-3">
                  <div class="card-body bg-light">
                   <input type="file" name="" id="">
                   <pre>
                    form-data:
                    dataset:{file},
                    dataset-type:{personal|public},
                    apikey:{apikey}
                   </pre>
                  </div>
                </div>
                Response Example
                <div class="card bg-light">
                  <div class="card-body text-start">
                    <pre>
                      { "message"=>"file uploaded."}
                    </pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="accordion-item btn-delete">
            <h2 class="accordion-header" id="flush-headingFive">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseSix" aria-expanded="false" aria-controls="flush-collapseSix">
                <span class="box">DELETE</span>&nbsp;server/api/delete-dataset.php
              </button>
            </h2>
            <div id="flush-collapseSix" class="accordion-collapse collapse" aria-labelledby="flush-headingSix">
              <div class="accordion-body">
                <h3>Deletes the given dataset</h3>
                
                Request example
                <div class="card mb-3">
                  <div class="card-body bg-light">
                    <pre>
                    {
                      "dataset":"sample.csv",
                      "dataset-type":"personal",
                      "apikey":"0a8366a07c0d8fccc48bab2e657f12d0"               
                   }</pre>
                  </div>
                </div>
                Response Example
                <div class="card bg-light">
                  <div class="card-body text-start">
                    <pre>
                      { "message"=>"dataset deleted."}
                    </pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="accordion-item btn-post">
            <h2 class="accordion-header" id="flush-headingSeven">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseSeven" aria-expanded="false" aria-controls="flush-collapseSeven">
                <span class="box">POST</span>&nbsp;server/api/register.php
              </button>
            </h2>
            <div id="flush-collapseSeven" class="accordion-collapse collapse" aria-labelledby="flush-headingSeven">
              <div class="accordion-body">
                <h3>Registers a user</h3>
                
                Request example
                <div class="card mb-3">
                  <div class="card-body bg-light">
                    <pre>
                    {
                      "email":"example@email.com",
                      "password":"verysecret123",
                      "fname":"Konstantinos",
                      "lname":"Hliadhs"           
                   }</pre>
                  </div>
                </div>
                Response Example
                <div class="card bg-light">
                  <div class="card-body text-start">
                    <pre>
                      { "message"=>"User registered."}
                    </pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="accordion-item btn-post">
            <h2 class="accordion-header" id="flush-headingEight">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEight" aria-expanded="false" aria-controls="flush-collapseEight">
                <span class="box">POST</span>&nbsp;server/api/login.php
              </button>
            </h2>
            <div id="flush-collapseEight" class="accordion-collapse collapse" aria-labelledby="flush-headingEight">
              <div class="accordion-body">
                <h3>Login user</h3>
                
                Request example
                <div class="card mb-3">
                  <div class="card-body bg-light">
                    <pre>
                    {
                      "email":"example@email.com",
                      "password":"verysecret123"       
                   }</pre>
                  </div>
                </div>
                Response Example
                <div class="card bg-light">
                  <div class="card-body text-start">
                    <pre>
                      { "email":"example@email.com",
                        "fname":"Konstantinos",
                        "lname":"Hliadhs",  
                        "apikey":"0a8366a07c0d8fccc48bab2e657f12d0"}
                    </pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="accordion-item btn-post">
            <h2 class="accordion-header" id="flush-headingNine">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNflush-headingNine" aria-expanded="false" aria-controls="flush-collapseNflush-headingNine">
                <span class="box">POST</span>&nbsp;server/api/edit-profile.php
              </button>
            </h2>
            <div id="flush-collapseNflush-headingNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine">
              <div class="accordion-body">
                <h3>Edits user info</h3>
                
                Request body example
                <div class="card mb-3">
                  <div class="card-body bg-light">
                    <pre>
                    {
                      "fname":"Kostas",
                      "password":"verysecret12345",
                      "apikey":"0a8366a07c0d8fccc48bab2e657f12d0"   
                   }</pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="accordion-item btn-delete">
            <h2 class="accordion-header" id="flush-headingTen">
              <button class="accordion-button collapsed text-white fs-5" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTen" aria-expanded="false" aria-controls="flush-collapseTen">
                <span class="box">DELETE</span>&nbsp;server/api/delete-user.php
              </button>
            </h2>
            <div id="flush-collapseTen" class="accordion-collapse collapse" aria-labelledby="flush-headingTen">
              <div class="accordion-body">
                <h3>Deletes a user given the apikey</h3>
                
                Request example
                <div class="card mb-3">
                  <div class="card-body bg-light">
                    <pre>
                    {
                      "apikey":"0a8366a07c0d8fccc48bab2e657f12d0"
                    }
                   </pre>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
      
    
</body>
</html>