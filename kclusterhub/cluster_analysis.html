<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../styles/kmeans.css">
    <link rel="icon" type="image/x-icon" href="../assets/favicon_io/favicon.ico">
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.2/dist/chart.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.1.1/chart.min.js" integrity="sha512-MC1YbhseV2uYKljGJb7icPOjzF2k6mihfApPyPhEAo3NsLUW0bpgtL4xYWK1B+1OuSrUkfOTfhxrRKCz/Jp3rQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.js"></script>
   
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
    
    <script src="js/kmeans.js"></script>
    <title>Cluster Analysis|K-Cluser Hub</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-white sticky-top shadow-sm">
        <div class="container-fluid">
            
                <a class="navbar-brand ms-2  fs-3" href="./">
                    <img src="../assets/logo4.png" width="50px" alt="">K-Cluster Hub</a>
            
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="./">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./about.html">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="#">Cluster Analysis</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://forms.gle/uhxLjWqrAiQ9qNm38" id="sign-up-btn" target="_blank">Rate us!</a>
              </li>
              
              <li class="nav-item dropdown" id="gear-dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fa-solid fa-gear"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><p class="dropdown-item" id="user-name"></p></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="./edit-profile.html">Profile</a></li>
                  <li><a class="dropdown-item" href="./apidocs.html">API docs</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#" id="sign-out-btn">Sign out</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      
      <div class="main">
        <div class="files-title">
            <h3>Select dataset or upload one:</h3>
        </div>
        <div class="file-choose">
        <div class="card bg-light">
  <div class="card-body text-center p-5">
    <div class="d-sm-flex bd-highlight mb-3">
        <button class="p-2 bd-highlight me-3" data-bs-toggle="modal" data-bs-target="#upload-dataset"><span>
            <i class="fa-solid fa-cloud-arrow-up"></i>
            Upload dataset
        </span></button>
        <a class="p-2 bd-highlight disabled" id="download-btn" href=""><span>
            <i class="fa-solid fa-cloud-arrow-down"></i>
            Download selected
        </span></a>
        <button class="ms-auto p-2 bd-highlight delete-btn" disabled><span>
            <i class="fa-solid fa-trash"></i>
            Delete selected
        </span></button>
      </div>
    
    <select id="select-dataset" class="form-select bg-light" aria-label="Default select example">
        <option selected id="default-option">Select dataset</option>
      </select>
      <label for="select-algorithm" class="algorithm-label">select algorithm:</label>
      <select id="select-algorithm" class="form-select bg-light" aria-label="Default select example" >
        <option>Auto</option>
        <option>K-Means</option>
        <option>K-Modes</option>
        <option>K-Prototypes</option>
      </select>
      <div class="error-message">
        <i class="fa-solid fa-triangle-exclamation"></i>
        <span id="error-text"></span>
    </div>
     
  </div>
</div>
</div>



  <div class="cont-dataset-table">
    <div class="card bg-light">
      <div class="card-body text-center p-5">
       
        </div>
        </div>


  </div>
  <div class="initialize-elbow">
    <div class="card bg-light">
      
      <div class="card-body">
        <div class="card-tile mb-4">
          <h3>Available columns</h3>
      </div>
        <div class="col-sm-12 float-start column-options"></div>
        <div class="error-columns mt-5">
          <i class="fa-solid fa-triangle-exclamation"></i>
          <span id="error-text-columns"></span>
      </div>
        </div>
        </div>
        <div class="card bg-light">
          <div class="card-body">
            <div class="card-tile mb-4">
              <h3>Elbow method</h3>
          </div>
            <div class="col-sm-12 float-start"></div>
            <div class="container">
              <label for="elbow-clusters">Give the maximum number of clusters:</label>
              <div class="row">
                  <div class="col">
                    <div class="input-group">
                      <input type="text" class="form-control" id="elbow-clusters" placeholder="Maximum number of clusters" aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                    <div id="elbow-warnings">
                    <span class="hint-text">
                      <i class="fa-solid fa-circle-exclamation"></i>
                      Number of clusters > 3 for the elbow method
                    </span>
                    <div class="hint-text" id="sample-hint-error">
                      <i class="fa-solid fa-circle-exclamation"></i>
                      <span id="sample-hint-text"></span>
                    </div>
                  </div>
                    <div class="error-elbow mt-2">
                      <i class="fa-solid fa-triangle-exclamation"></i>
                      <span id="error-text-elbow"></span>
                  </div>
                    
                  </div>
                  <div class="col">
                      <button class="btn-blue p-2 bd-highlight" id="get-elbow-btn"> Get elbow chart</button>
                  </div>
              </div>
          </div>
          <div id="loading-spinner-elbow">
            <div class="d-flex justify-content-center mt-5">
              <div class="spinner-border text-primary mt-3 " role="status" >
                <span class="visually-hidden">Loading...</span>
              </div>
              </div>
            </div>
            </div>
            <div class="d-flex justify-content-center mt-5 mb-4 w-100">
           <div class="card elbow-chart">
              <div class="card-header">
                  Elbow Chart
              </div>
              <div class="card-body">
              </div>
            </div>  
            </div>


  </div>
      </div>
      <div class="card bg-light clusters-card">
        <div class="card-body">
          <div class="card-tile mb-4">
            <h3>Cluster assigment</h3>
        </div>
          <div class="container">
            <label for="elbow-clusters">Give number of clusters:</label>
            <div class="row mb-4">
                <div class="col">
                  <div class="input-group">
                    <input type="text" class="form-control" id="assigment-clusters" placeholder="Number of clusters" aria-label="Username" aria-describedby="basic-addon1">
                  </div>
                  
                  <div class="error-assigment mt-2">
                    <i class="fa-solid fa-triangle-exclamation"></i>
                    <span id="error-text-assigment"></span>
                </div>
                  
                </div>
                <div class="col">
                    <button class="btn-blue p-2 bd-highlight" id="get-assigment-btn">Get cluster assignment</button>
                </div>
            </div>
        </div>

        <div class="d-sm-flex bd-highlight" id="cluster-buttons">

          <a class="p-2 bd-highlight me-3 btn-blue" id="download-clusters-btn" href=""><span>
            <i class="fa-solid fa-cloud-arrow-down"></i>
            Download csv
        </span></a>
        <button class="p-2 bd-highlight me-3  btn-blue" id="show-plot-btn"><span>
          <i class="fa-solid fa-chart-line"></i>
          Show plot
      </span></button>
        </div>

        <div class="modal fade" id="plotModal" tabindex="-1" aria-labelledby="myModalLabel">
          <div class="modal-dialog" >
            <div class="modal-content">
              <div class="modal-header">
                
                <h5 class="modal-title" id="exampleModalLabel">Parallel cords plot</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body plot-body">


                <div id="loading-spinner-plot">
                <div class="d-flex flex-column align-items-center justify-content-center">
                  <div class="row">
                      <div class="spinner-border text-primary mt-3" role="status">
                          <span class="sr-only">Loading...</span>
                      </div>
                   </div>
                   <div class="row">
                     <strong>Generating parallel plot graph! This may take a moment.</strong>
                   </div>
               </div>
              </div>

                
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal fade" id="plotModal2" tabindex="-1" aria-labelledby="myModalLabel">
          <div class="modal-dialog" >
            <div class="modal-content">
              <div class="modal-header">
                
                <h5 class="modal-title" id="exampleModalLabel">Parallel cords plot</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body plot-body2">


                <div id="loading-spinner-plot2">
                <div class="d-flex flex-column align-items-center justify-content-center">
                  <div class="row">
                      <div class="spinner-border text-primary mt-3" role="status">
                          <span class="sr-only">Loading...</span>
                      </div>
                   </div>
                   <div class="row">
                     <strong>Generating parallel plot graph! This may take a moment.</strong>
                   </div>
               </div>
              </div>

                
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

        
        <div class="cont-clusters-table mt-2">
          
          
        </div>
        <div id="loading-spinner-assigment">
          <div class="d-flex justify-content-center">
            <div class="spinner-border text-primary mt-2 " role="status" >
              <span class="visually-hidden">Loading...</span>
            </div>
            </div>
          </div>
          
        </div>
      </div>  
      </div>
      

      <div id="loading-spinner-table">
      <div class="d-flex justify-content-center" >
        <div class="spinner-border text-primary mt-3 " role="status" >
          <span class="visually-hidden">Loading...</span>
        </div>
        </div>
      </div>
     </div> 


  <!-- Modal -->
  <div class="modal fade" id="upload-dataset" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Upload dataset</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <select id="select-folder" class="form-select bg-light" aria-label="Default select example">
                <option selected>Choose folder</option>
                <option>Personal</option>
                <option>Public</option>
              </select>
            <div class="text-center mt-3">
        <div class="file-drop-area">
            <div class="mb-5 text-center"><i class="fa-solid fa-file-arrow-up"></i></div>
            
          <span class="choose-file-button">Choose files</span>
          <span class="file-message">or drag and drop files here</span>
          <p class="mt-4">csv,xlsx,xls</p>
          <input class="file-input" type="file" multiple>
        </div>
        <div class="error-message-big">
            <i class="fa-solid fa-triangle-exclamation"></i>
            <span id="error-text-big"></span>
        </div>
        <div class="success-message-big">
            <i class="fa-solid fa-check"></i>
            <span id="success-text-big"></span>
        </div>
        <div id="loading-spinner-upload">
          <div class="d-flex justify-content-center">
            <div class="spinner-border text-primary mt-3 " role="status" >
              <span class="visually-hidden">Loading...</span>
            </div>
            </div>
          </div>
        </div>
        
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" id="upload-btn" disabled>Upload file</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>